<div style="margin-top: 95px;" class="result-container container-fluid d-flex justify-content-center align-items-center min-vh-100">
      <div class="card shadow-lg result-card">
        <div class="card-body text-center p-5">
          <!-- Result Header -->
          <div class="result-header mb-4">
            <div class="result-icon mb-3">
              <i class="fas" [class]="getResultIcon()" [style.color]="getResultColor()"></i>
            </div>
            <h3 class="result-title mb-2">{{ getResultTitle() }}</h3>
            <p class="result-subtitle text-muted">{{ getResultSubtitle() }}</p>
          </div>

          <!-- Overall Score Display -->
          <div class="score-display mb-4">
            <div class="main-score mb-3">
              <div class="score-circle" [style.background]="getScoreGradient()">
                <div class="score-text">
                  <span class="score-number">{{ examResult()?.percentage || 0 }}</span>
                  <span class="score-percent">%</span>
                </div>
              </div>
            </div>
            
            <!-- Overall Stats -->
            <div class="score-details">
              <div class="alert alert-light border">
                <div class="row text-center">
                  <div class="col-4">
                    <div class="score-item">
                      <h6 class="mb-1 text-muted">Tổng điểm</h6>
                      <div class="score-value">{{ examResult()?.correct }}/{{ examResult()?.total }}</div>
                    </div>
                  </div>
                  <div class="col-4">
                    <div class="score-item">
                      <h6 class="mb-1 text-muted">Thời gian làm bài</h6>
                      <div class="score-value">{{ formatTime(examResult()?.timeSpent || 0) }}</div>
                    </div>
                  </div>
                  <div class="col-4">
                    <div class="score-item">
                      <h6 class="mb-1 text-muted">Trình độ đạt được</h6>
                      <div class="score-value level-badge" [class]="getLevelBadgeClass()">
                        {{ getAssessedLevel() }}
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Section Scores - Horizontal Layout -->
          <div class="section-scores mb-4">
            <h5 class="mb-3">
              <i class="fas fa-chart-line me-2"></i>
              Kết Quả Theo Phần
            </h5>
            
            <div class="row g-3">
              <!-- Listening Section -->
              <div class="col-md-6">
                <div class="section-score-card">
                  <div class="section-header mb-3">
                    <div class="d-flex justify-content-between align-items-center">
                      <h6 class="section-title mb-0">
                        <i class="fas fa-headphones me-2 text-danger"></i>
                        Phần Nghe
                      </h6>
                      <span class="badge badge-lg bg-danger">{{ getListeningPercentage() }}%</span>
                    </div>
                    <small class="text-muted">{{ getListeningScore() }}/{{ getListeningTotal() }} câu đúng</small>
                  </div>
                  <div class="progress progress-modern">
                    <div 
                      class="progress-bar bg-gradient-danger" 
                      role="progressbar" 
                      [style.width.%]="getListeningPercentage()"
                      [attr.aria-valuenow]="getListeningPercentage()"
                      aria-valuemin="0" 
                      aria-valuemax="100">
                    </div>
                  </div>
                </div>
              </div>

              <!-- Reading Section -->
              <div class="col-md-6">
                <div class="section-score-card">
                  <div class="section-header mb-3">
                    <div class="d-flex justify-content-between align-items-center">
                      <h6 class="section-title mb-0">
                        <i class="fas fa-book-open me-2 text-success"></i>
                        Phần Đọc
                      </h6>
                      <span class="badge badge-lg bg-success">{{ getReadingPercentage() }}%</span>
                    </div>
                    <small class="text-muted">{{ getReadingScore() }}/{{ getReadingTotal() }} câu đúng</small>
                  </div>
                  <div class="progress progress-modern">
                    <div 
                      class="progress-bar bg-gradient-success" 
                      role="progressbar" 
                      [style.width.%]="getReadingPercentage()"
                      [attr.aria-valuenow]="getReadingPercentage()"
                      aria-valuemin="0" 
                      aria-valuemax="100">
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Level Assessment -->
          <div class="level-assessment mb-4">
            <div class="alert" [class]="getRecommendationClass()">
              <div class="text-center">
                <p class="mb-0">
                  <i class="fas fa-graduation-cap me-2"></i>
                  Trình độ của bạn ở level <strong>{{ getAssessedLevel() }}</strong>
                </p>
              </div>
            </div>
          </div>

          <!-- Roadmap Question -->
          <div class="roadmap-section mb-4" *ngIf="!showRoadmapConfirm() && canImprove()">
            <div class="alert alert-info">
              <div class="text-center">
                <h6 class="mb-3">
                  <i class="fas fa-route me-2"></i>
                  Bạn có muốn tạo lộ trình học tập không?
                </h6>
                <div class="d-flex justify-content-center gap-2">
                  <button 
                    class="btn btn-success"
                    (click)="onCreateRoadmap()">
                    <i class="fas fa-check me-2"></i>
                    Có
                  </button>
                  <button 
                    class="btn btn-outline-secondary"
                    (click)="declineRoadmap()">
                    <i class="fas fa-times me-2"></i>
                    Không
                  </button>
                </div>
              </div>
            </div>
          </div>

          <!-- Action Buttons -->
          <div class="action-buttons">
            <div class="d-flex justify-content-center gap-3 mb-3">
              <button 
                class="btn btn-primary btn-lg action-btn"
                (click)="onViewDetailedResults()"
                [disabled]="isProcessing()">
                <i class="fas fa-chart-bar me-2"></i>
                XEM CHI TIẾT
              </button>
              <button 
                class="btn btn-outline-secondary btn-lg action-btn"
                (click)="onRetakeExam()"
                [disabled]="isProcessing()">
                <i class="fas fa-redo me-2"></i>
                LÀM LẠI
              </button>
            </div>
            
            <div class="secondary-actions">
              <button 
                class="btn btn-link btn-sm"
                (click)="onSaveResult()">
                <i class="fas fa-save me-1"></i>
                Lưu kết quả
              </button>
              <button 
                class="btn btn-link btn-sm ms-3"
                (click)="onShareResult()">
                <i class="fas fa-share me-1"></i>
                Chia sẻ
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>